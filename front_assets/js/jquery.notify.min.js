/*!
 * jQuery Notify
 * Copyright (c) 2014 CreativeDream
 * Website http://creativedream.net/plugins
 * Version: 1.0 (01-10-2014)
 * Requires: jQuery v1.7.1 or later
 */
function notify(b){return $.cNotify(b)}!function(b){b.cNotify=function(d){d=b.extend({},{type:"default",title:null,message:null,position:{x:"right",y:"bottom"},icon:null,size:"normal",overlay:!1,closeBtn:!0,overflowHide:!1,spacing:20,theme:"default",autoHide:!1,delay:4e3,onShow:null,onmousedown:null,onHide:null,template:"<div class=\"notify\"><div class=\"notify-text\"></div></div>",_classes:{box:".notify",closeBtn:".notify-close-btn",content:".notify-text",icon:".notify-icon",iconI:".notify-icon-inner",overlay:".notify-overlay"}},d);var f=b(d.template).hide(),g=(d._classes.box,{init:function(){g._setContent(),f.on("click",function(h){null!=d.onmousedown&&d.onmousedown(h,f,d)})},_show:function(){f.fadeIn(250,function(){null!=d.onShow&&d.onShow(f,d),d.autoHide&&g._hide(!0)})},_hide:function(h){var j;if("object"==typeof h)return(j=h).remove(),void g._reposition(j.attr("class"));j=f;var k=function(){1>b(d._classes.box+".notify-overlayed").length&&b(d._classes.overlay).fadeOut(250,function(){b(this).remove()}),g._reposition(j.attr("class"))};h?(b(d._classes.content).text().length,setTimeout(function(){j.fadeOut(function(){b(this).remove(),null!=d.onHide&&d.onHide(j,d),k()})},d.delay)):j.fadeOut(function(){b(this).remove(),k()})},_setContent:function(){if(d.theme&&null!=d.theme&&"default"!=d.theme&&f.addClass(d.theme),-1!=b.inArray(d.type,["success","error","warning","info"])&&f.addClass(d.type),d.title&&null!=d.title?f.find(d._classes.content).prepend("<h3>"+d.title+"</h3>"):f.addClass("notify-without-title"),d.message&&null!=d.message&&f.find(d._classes.content).append("<p>"+d.message+"</p>"),d.size&&null!=d.size&&"normal"!=d.size&&("full"!=d.size||"top"!=d.position.y&&"bottom"!=d.position.y?f.addClass("size-"+d.size):f.addClass("notify-"+d.position.y+"-full")),d.icon&&null!=d.icon){var h=b(d.icon).is("img")?b(d.icon):0==b(d.icon).find("img").length?b(d.icon):b(d.icon).find("img");f.prepend("<div class=\"notify-icon\"><div class=\"notify-icon-inner\">"+d.icon+"</div>")}else f.addClass("notify-without-icon");d.overlay&&null!=d.overlay&&(0==b("body").find(d._classes.overlay).length&&b("<div class=\"notify-overlay"+("string"==typeof d.overlay?" "+d.overlay:"")+"\"></div>").hide().appendTo("body").fadeIn(250),f.addClass("notify-overlayed")),d.closeBtn?(f.prepend("<a href=\"javascript:;\" class=\"notify-close-btn\"></a>"),f.on("click",d._classes.closeBtn,function(){g._hide()})):f.on("click",function(){g._hide()}).css("cursor","pointer"),f.appendTo("body"),g._show(),g._poisition(),h&&h.on('load',function(){var j=Math.round(f.find(d._classes.iconI).outerHeight()/2);0<j&&f.find(d._classes.iconI).css("margin-top",-1*j)})},_poisition:function(){var h="notify-";if(d.position&&null!=d.position&&b.isPlainObject(d.position)&&d.position.x&&d.position.y){switch(d.position.y){case"top":h+="top-";break;case"center":h+="center-";break;case"bottom":h+="bottom-";}switch(d.position.x){case"right":h+="right";break;case"center":h+="center";break;case"left":h+="left";}}else h+="bottom-right";f.addClass(h),"notify-center-center"==h&&(1<b(".notify.notify-center-center").length&&g._hide(b(".notify.notify-center-center").first()),f.css({marginTop:-1*(f.outerHeight()/2)}));var j=b("body").find(".notify."+h).length;if(1<j){var k={};switch(pS=h.split("-"),pS[1]){case"top":k.top=parseFloat(b("body").find(".notify."+h).eq(j-2).css("top"))+b("body").find(".notify."+h).eq(j-2).outerHeight()+d.spacing;break;case"bottom":k.bottom=parseFloat(b("body").find(".notify."+h).eq(j-2).css("bottom"))+b("body").find(".notify."+h).eq(j-2).outerHeight()+d.spacing;}f.css(k);var m=0;$(".notify."+h).each(function(){m+=$(this).outerHeight()+d.spacing}),m>=b(window).height()&&(d.overflowHide?g._hide(b("body").find(".notify."+h).first()):f.hide())}},_reposition:function(h){if(h.match(/notify\-bottom\-(right|left|center|full)/g))h=h.match(/notify\-bottom\-(right|left|center|full)/g)[0];else{if(!h.match(/notify\-top\-(right|left|center|full)/g))return!1;h=h.match(/notify\-top\-(right|left|center|full)/g)[0]}var j=0;$(".notify."+h).each(function(){j+=$(this).outerHeight()+d.spacing}),j>=b(window).height()&&(d.overflowHide?g._hide(b("body").find(".notify."+h).first()):f.hide()),b("body").find(".notify."+h+":hidden").first().show();var k={};$(".notify."+h).stop(!0,!0),$(".notify."+h).each(function(m,p){var q={},r=h.split("-");switch(r[1]){case"top":var u="full"==r[2]?0:21;if(0==m)return b(p).animate({top:u-1},300),k.top=u,k.height=b(p).outerHeight(),!0;q.top=parseFloat(k.top)+k.height+d.spacing,k.top=q.top,k.height=b(p).outerHeight();break;case"bottom":if(u="full"==r[2]?0:21,0==m)return b(p).animate({bottom:u-1},300),k.bottom=u,k.height=b(p).outerHeight(),!0;q.bottom=parseFloat(k.bottom)+k.height+d.spacing,k.bottom=q.bottom,k.height=b(p).outerHeight();}b(p).animate(q,300)})}});return g.init(),!0}}(jQuery);
